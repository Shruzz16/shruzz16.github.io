{% assign folder_path = page.path | split: "/" | slice: 0, 2 | join: "/" %}

{% if page.images and page.images.size > 0 %}
  <!-- Grid gallery (no arrows) -->
  <div class="portfolio-grid">
    {% for image in page.images %}
      {% assign image_path = "/" | append: folder_path | append: image %}
      <a href="{{ image_path }}" target="_blank" rel="noopener">
        <img src="{{ image_path }}" alt="{{ page.title }} image {{ forloop.index }}">
      </a>
    {% endfor %}
  </div>
{% else %}
  <!-- Static fallback image -->
  {% assign image_path = "/" | append: folder_path | append: page['main-image'] %}
  <img src="{{ image_path }}" alt="{{ page.title }} image" class="d-block w-100">
{% endif %}
